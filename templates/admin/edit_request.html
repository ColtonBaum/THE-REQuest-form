{% extends "admin/base.html" %}
{% block admin_content %}
<div class="container py-4">
  <h3>Edit Request</h3>
  <form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div class="mb-3">
      <label for="employee_name" class="form-label">Employee Name</label>
      <input type="text" name="employee_name" class="form-control" value="{{ req.employee_name }}">
    </div>

    <div class="mb-3">
      <label for="job_name" class="form-label">Job Name</label>
      <input type="text" name="job_name" class="form-control" value="{{ req.job_name }}">
    </div>

    <div class="mb-3">
      <label for="job_number" class="form-label">Job Number</label>
      <input type="text" name="job_number" class="form-control" value="{{ req.job_number }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Items</label>
      {% for i in req.items %}
        <div class="d-flex mb-2">
          <input type="text" name="item_name_{{ i.id }}" class="form-control me-2" value="{{ i.item_name }}" placeholder="Item name">
          <input type="number" name="item_qty_{{ i.id }}" class="form-control" value="{{ i.quantity }}" placeholder="Qty" min="0">
        </div>
      {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{{ url_for('admin.list_requests') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
